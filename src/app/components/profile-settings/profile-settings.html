<div class="profile-wrapper">
    <div class="profile-card" [class.loading]="isLoading">
        <div class="profile-header">
            <div class="title-block">
                <p class="eyebrow">Account</p>
                <h1>Profile Settings</h1>
                <p class="subtitle">Update your personal info and how others see you.</p>
            </div>
            <div class="avatar-block" *ngIf="profilePicture">
                <img [src]="profilePicture" [alt]="name" class="avatar" />
            </div>
        </div>

        <div *ngIf="errorMessage" class="alert error">{{ errorMessage }}</div>
        <div *ngIf="successMessage" class="alert success">{{ successMessage }}</div>

        <form (ngSubmit)="save()" novalidate>
            <div class="form-grid">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input id="name" name="name" type="text" [(ngModel)]="name" required
                        [disabled]="isSaving || isLoading" />
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" [(ngModel)]="email" disabled />
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input id="phone" name="phone" type="tel" [(ngModel)]="phoneNumber"
                        [disabled]="isSaving || isLoading" />
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <input id="address" name="address" type="text" [(ngModel)]="address"
                        [disabled]="isSaving || isLoading" />
                </div>
                <div class="form-group full">
                    <label for="picture">Profile Picture URL</label>
                    <input id="picture" name="picture" type="url" [(ngModel)]="profilePicture"
                        [disabled]="isSaving || isLoading" />
                    <p class="hint">Paste an image URL. Leave empty to keep current.</p>
                </div>
            </div>

            <div class="actions">
                <button type="submit" class="btn primary" [disabled]="isSaving || isLoading">
                    {{ isSaving ? 'Saving...' : 'Save Changes' }}
                </button>
                <button type="button" class="btn ghost" (click)="fetchProfile()" [disabled]="isSaving || isLoading">
                    Reload
                </button>
            </div>
        </form>
    </div>
</div>
