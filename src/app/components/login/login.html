<div class="auth-container">
    <div class="auth-card">
        <!-- Header -->
        <div class="auth-header">
            <h1>ðŸŒ¸ Bloomi Store</h1>
            <p class="subtitle">{{ isLogin ? 'Welcome Back' : 'Join Our Community' }}</p>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container">
            <div *ngIf="errorMessage" class="toast toast-error">
                <div class="toast-icon-wrapper">
                    <svg class="toast-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
                            fill="currentColor" fill-opacity="0.15" />
                        <path d="M10 6V10M10 14H10.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
                <div class="toast-body">
                    <div class="toast-title">Error</div>
                    <div class="toast-message">{{ errorMessage }}</div>
                </div>
                <button type="button" class="toast-close" (click)="errorMessage = ''" aria-label="Close">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                        <path d="M13.5 4.5L4.5 13.5M4.5 4.5L13.5 13.5" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </button>
                <div class="toast-progress"></div>
            </div>

            <div *ngIf="successMessage" class="toast toast-success">
                <div class="toast-icon-wrapper">
                    <svg class="toast-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
                            fill="currentColor" fill-opacity="0.15" />
                        <path d="M6 10L8.5 12.5L14 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div class="toast-body">
                    <div class="toast-title">Success</div>
                    <div class="toast-message">{{ successMessage }}</div>
                </div>
                <button type="button" class="toast-close" (click)="successMessage = ''" aria-label="Close">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                        <path d="M13.5 4.5L4.5 13.5M4.5 4.5L13.5 13.5" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </button>
                <div class="toast-progress"></div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <!-- Login Form -->
            <form *ngIf="isLogin" (ngSubmit)="onSubmit()" class="auth-form">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" [(ngModel)]="email" name="email" placeholder="you@example.com"
                        required [disabled]="isLoading" class="form-control" />
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" [(ngModel)]="password" name="password"
                        placeholder="Enter your password" required [disabled]="isLoading" class="form-control" />
                </div>

                <button type="submit" [disabled]="isLoading" class="btn btn-primary btn-full">
                    {{ isLoading ? 'Signing in...' : 'Sign In' }}
                </button>
            </form>

            <!-- Signup Form -->
            <form *ngIf="!isLogin" (ngSubmit)="onSubmit()" class="auth-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" [(ngModel)]="name" name="name" placeholder="John Doe" required
                        [disabled]="isLoading" class="form-control" />
                </div>

                <div class="form-group">
                    <label for="signup-email">Email Address</label>
                    <input type="email" id="signup-email" [(ngModel)]="email" name="email" placeholder="you@example.com"
                        required [disabled]="isLoading" class="form-control" />
                </div>

                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" [(ngModel)]="password" name="password"
                        placeholder="At least 6 characters" required [disabled]="isLoading" class="form-control" />
                </div>

                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" [(ngModel)]="confirmPassword" name="confirmPassword"
                        placeholder="Confirm your password" required [disabled]="isLoading" class="form-control" />
                </div>

                <button type="submit" [disabled]="isLoading" class="btn btn-primary btn-full">
                    {{ isLoading ? 'Creating Account...' : 'Create Account' }}
                </button>
            </form>
        </div>

        <!-- Divider -->
        <div class="divider">
            <span>OR</span>
        </div>

        <!-- Google Sign-In -->
        <div id="google-signin-button" class="google-button-container"></div>

        <!-- Toggle Form -->
        <div class="toggle-form">
            <p>
                {{ isLogin ? "Don't have an account?" : 'Already have an account?' }}
                <button type="button" (click)="toggleForm()" class="toggle-link" [disabled]="isLoading">
                    {{ isLogin ? 'Sign Up' : 'Sign In' }}
                </button>
            </p>
        </div>
    </div>
</div>